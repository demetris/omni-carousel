---
import Demos from '@components/Demos.astro';
import Carousel from '@components/carousel/Carousel.astro';
---

<Demos
  title="One slide per view"
  description="Carousels that display one full-width slide at a time">

  <Carousel
    title="Digits"
    ariaLabel="Carousel with full-width slides"
    classes={[
      'demo--one-per-view',
      'demo--digits'
    ]}
    indicators={true}
    digitCount={6}
  >
    <Fragment slot="description">
      <dl>
        <dt>Zero configuration</dt>
        <dd></dd>
      </dl>
    </Fragment>
  </Carousel>

  <Carousel
    title="Photographs"
    ariaLabel="Carousel with full-width images"
    classes={[
      'demo--one-per-view',
      'demo--images'
    ]}
    indicators={true}
    photoIDs={[
      "alex-padurariu-ZR48YvUpk04",
      "denise-bossarte-8rEJiVQk1Vw",
      "n-n-BtbjCFUvBXs",
      "delila-ziebart-3P6E2y2lyus"
    ]}
  >
    <Fragment slot="description">
      <dl>
        <dt>Configuration</dt>
        <dd><code>preloadAdjacentImages: true</code></dd>
      </dl>
    </Fragment>
  </Carousel>

  <script>
    import { domReady } from '@utils/dom-ready';
    import { createOmniCarousel } from '@lib/index';

    domReady(() => {
      const digitsRoot = document.querySelector('.demo--one-per-view.demo--digits');
      const imagesRoot = document.querySelector('.demo--one-per-view.demo--images');

      if (!digitsRoot || !imagesRoot) {
        console.error('Carousel roots not found');
        return;
      }

      const digitsCarousel = createOmniCarousel(digitsRoot as HTMLElement, {});
      const imagesCarousel = createOmniCarousel(imagesRoot as HTMLElement, {
        preloadAdjacentImages: true,
      });

      digitsCarousel.init();
      imagesCarousel.init();
    });
  </script>
</Demos>
